import React from 'react';
import LessonLayout from '../components/LessonLayout';
import FormulaBox from '../components/FormulaBox';
import Exercise from '../components/Exercise';
import Quiz from '../components/Quiz';

const Mahat31GraphReading = () => {
  const lessonId = 'mahat-3-1-graph-reading';
  const nextLessonPath = '/lessons/mahat-4-1-linear-equations';

  const exercises = [
    {
      id: 'ex1',
      question: 'נתון גרף המתאר את מילוי אמבטיה. ציר X הוא זמן בדקות, ציר Y הוא כמות המים בליטרים. הגרף עולה בתלילות במשך 5 דקות, אחר כך הוא אופקי למשך 10 דקות, ואז יורד בתלילות חזרה לאפס במשך 3 דקות. כמה זמן לקח למלא את האמבטיה?',
      correctAnswer: '5 דקות',
      placeholder: 'הזן את התשובה',
      solution: (
        <div>
          <p><strong>פתרון:</strong></p>
          <p>הגרף עולה בתלילות במשך 5 דקות הראשונות - זהו תהליך המילוי.</p>
          <p>לאחר מכן הוא אופקי (המים נשארים בגובה קבוע) ואז יורד (ריקון האמבטיה).</p>
          <p><strong>התשובה: 5 דקות</strong></p>
        </div>
      )
    },
    {
      id: 'ex2',
      question: 'נתון גרף המתאר את גובהו של כדור שנזרק לאוויר. ציר X הוא זמן בשניות, ציר Y הוא גובה במטרים. הגרף הוא פרבולה שמתחילה ב-(0,0), מגיעה לשיא ב-(2,20) ונוחתת בחזרה ב-(4,0). מהו הגובה המרבי שאליו הגיע הכדור?',
      correctAnswer: '20 מטר',
      placeholder: 'הזן את התשובה',
      solution: (
        <div>
          <p><strong>פתרון:</strong></p>
          <p>הגובה המרבי הוא נקודת המקסימום של הגרף.</p>
          <p>מהנתונים: הגרף מגיע לשיא בנקודה (2,20).</p>
          <p>המשמעות: אחרי 2 שניות הכדור הגיע לגובה של 20 מטר.</p>
          <p><strong>התשובה: 20 מטר</strong></p>
        </div>
      )
    },
    {
      id: 'ex3',
      question: 'נתון גרף המתאר את הטמפרטורה בחדר לאורך יום. ציר X: שעה, ציר Y: טמפרטורה במעלות צלזיוס. הגרף מתחיל ב-18 מעלות, יורד ל-15 מעלות בשעה 4:00, עולה ל-25 מעלות בשעה 14:00, ואז יורד חזרה ל-20 מעלות בשעה 24:00. באילו טווחי שעות הטמפרטורה הייתה בעלייה?',
      correctAnswer: 'מ-4:00 עד 14:00',
      placeholder: 'הזן את התשובה',
      solution: (
        <div>
          <p><strong>פתרון:</strong></p>
          <p>תחום עלייה הוא תחום שבו הגרף עולה משמאל לימין.</p>
          <p>מהנתונים:</p>
          <ul>
            <li>00:00-04:00: הגרף יורד (18→15)</li>
            <li>04:00-14:00: הגרף עולה (15→25) ✓</li>
            <li>14:00-24:00: הגרף יורד (25→20)</li>
          </ul>
          <p><strong>התשובה: מ-4:00 עד 14:00</strong></p>
        </div>
      )
    },
    {
      id: 'ex4',
      question: 'נתון גרף המתאר טיול באופניים. ציר X: זמן בשעות, ציר Y: מרחק מהבית בק"מ. הגרף מתחיל ב-(0,0), עולה ל-(2,20), נשאר אופקי ל-(3,20), ויורד ל-(5,0). מה קרה בין השעה 2 לשעה 3?',
      correctAnswer: 'הרוכב עצר למנוחה',
      placeholder: 'הזן את התשובה',
      solution: (
        <div>
          <p><strong>פתרון:</strong></p>
          <p>קטע אופקי בגרף פירושו שציר Y לא משתנה בזמן שציר X מתקדם.</p>
          <p>במקרה זה: המרחק מהבית נשאר 20 ק"מ למשך שעה שלמה.</p>
          <p>המשמעות: הרוכב הגיע למרחק 20 ק"מ מהבית ועצר שם למנוחה של שעה.</p>
          <p><strong>התשובה: הרוכב עצר למנוחה</strong></p>
        </div>
      )
    }
  ];

  const quizData = {
    title: 'בחן את עצמך - קריאת גרפים',
    questions: [
      {
        question: 'השאלות הבאות מתייחסות לגרף המתאר את הטמפרטורה בחדר לאורך יום. הגרף מתחיל ב-18 מעלות, יורד ל-15 מעלות בשעה 4:00, עולה ל-25 מעלות בשעה 14:00, ואז יורד חזרה ל-20 מעלות בשעה 24:00. מה הייתה הטמפרטורה הנמוכה ביותר, ובאיזו שעה?',
        options: ['18 מעלות ב-00:00', '15 מעלות ב-4:00', '25 מעלות ב-14:00', '20 מעלות ב-24:00'],
        correctAnswer: 1,
        explanation: 'זוהי נקודת המינימום המוחלטת של הגרף - הנקודה הנמוכה ביותר.'
      },
      {
        question: 'באילו טווחי שעות הטמפרטורה הייתה בעלייה?',
        options: ['מ-00:00 עד 4:00', 'מ-4:00 עד 14:00', 'מ-14:00 עד 24:00', 'מ-00:00 עד 14:00'],
        correctAnswer: 1,
        explanation: 'זהו הקטע בגרף שבו הקו עולה משמאל לימין.'
      },
      {
        question: 'מה הייתה הטמפרטורה בשעת ההתחלה (00:00)?',
        options: ['15', '25', '20', '18'],
        correctAnswer: 3,
        explanation: 'זוהי נקודת החיתוך של הגרף עם ציר Y - הערך ההתחלתי.'
      }    ]
  };

  return (
    <LessonLayout
      lessonId={lessonId}
      title="שיעור 3.1: קריאה והבנת מידע מגרפים"
      nextLessonPath={nextLessonPath}
    >
      {/* Introduction */}
      <div className="lesson-intro">
        <h2>ברוכים הבאים לשיעור 3.1!</h2>
        <p>
          בעולם המודרני, מידע רב מוצג לנו בצורה חזותית. גרפים הם דרך רבת עוצמה להציג נתונים וקשרים בין משתנים בצורה ברורה ואינטואיטיבית. 
          היכולת "לקרוא" גרף ולהפיק ממנו מסקנות היא מיומנות קריטית, לא רק במתמטיקה אלא גם בחיי היום-יום ובעולם ההנדסה. 
          בשיעור זה נלמד כיצד לגשת לגרף, להבין את הסיפור שהוא מספר, ולענות על שאלות בצורה מדויקת.
        </p>
      </div>

      {/* Learning Objectives */}
      <FormulaBox title="מטרות השיעור">
        <ul>
          <li><strong>הבנת רכיבי הגרף:</strong> נזהה את צירי ה-X וה-Y, נבין מה כל אחד מהם מייצג ומהן יחידות המידה</li>
          <li><strong>ניתוח תכונות הגרף:</strong> נלמד להגדיר ולמצוא תחומי עלייה וירידה, קביעות, ונקודות קיצון (מינימום ומקסימום)</li>
          <li><strong>הסקת מסקנות:</strong> נתרגם את התכונות הגרפיות לתובנות לגבי "סיפור המעשה" שהגרף מתאר</li>
        </ul>
      </FormulaBox>

      {/* Section 1: How to Approach a Graph */}
      <div className="lesson-section">
        <h3>חלק 1: איך לגשת לגרף?</h3>
        <p>
          כאשר אתם פוגשים גרף חדש, בצעו את שלושת השלבים הבאים לפני שאתם מנסים לענות על שאלות:
        </p>
        
        <FormulaBox title="שלבי ניתוח ראשוני של גרף">
          <ol>
            <li><strong>קראו את הכותרות:</strong> מהו נושא הגרף? מה הכותרת של ציר ה-X ומה הכותרת של ציר ה-Y? זהו השלב החשוב ביותר להבנת ההקשר.</li>
            <li><strong>בדקו את יחידות המידה:</strong> האם הזמן נמדד בשעות או בדקות? האם המרחק בקילומטרים או במטרים? טעות ביחידות המידה יכולה להוביל לתשובות שגויות לחלוטין.</li>
            <li><strong>הביטו במבט כללי על הגרף:</strong> נסו להבין את המגמה הכללית. האם הערכים בעיקר עולים? יורדים? האם יש קפיצות פתאומיות? זה נותן לכם את "הסיפור הגדול".</li>
          </ol>
        </FormulaBox>
      </div>

      {/* Section 2: Graph Language - Key Properties */}
      <div className="lesson-section">
        <h3>חלק 2: שפת הגרפים - תכונות מרכזיות</h3>
        <p>
          לכל גרף יש שפה משלו. אלו המונחים המרכזיים שאתם צריכים להכיר:
        </p>

        <FormulaBox title="מונחי יסוד בקריאת גרפים">
          <div className="definition-box">
            <h4>תחום עלייה:</h4>
            <p>קטע בגרף שבו, כאשר נעים משמאל לימין על ציר ה-X, הערכים בציר ה-Y עולים. בסיפור מעשה, זה מתאר תהליך של גדילה.</p>
            
            <h4>תחום ירידה:</h4>
            <p>קטע בגרף שבו, כאשר נעים משמאל לימין על ציר ה-X, הערכים בציר ה-Y יורדים. בסיפור מעשה, זה מתאר תהליך של קיטון.</p>
            
            <h4>קביעות:</h4>
            <p>קטע בגרף שהוא קו ישר אופקי. המשמעות היא שבזמן שציר ה-X מתקדם, הערך בציר ה-Y אינו משתנה.</p>
            
            <h4>נקודת מקסימום:</h4>
            <p>הנקודה הגבוהה ביותר בגרף (או באזור מסוים). היא מייצגת את הערך הגדול ביותר שהמשתנה בציר Y הגיע אליו.</p>
            
            <h4>נקודת מינימום:</h4>
            <p>הנקודה הנמוכה ביותר בגרף (או באזור מסוים). היא מייצגת את הערך הקטן ביותר.</p>
            
            <h4>נקודות חיתוך עם הצירים:</h4>
            <ul>
              <li><strong>חיתוך עם ציר Y:</strong> הנקודה שבה הגרף "מתחיל". זהו הערך ההתחלתי (בזמן 0).</li>
              <li><strong>חיתוך עם ציר X (נקודות אפס):</strong> הנקודות שבהן הערך של ציר Y הוא אפס.</li>
            </ul>
          </div>
        </FormulaBox>
      </div>

      {/* Section 3: Detailed Example */}
      <div className="lesson-section">
        <h3>חלק 3: דוגמה מפורטת - טיול באופניים</h3>
        
        <FormulaBox title="דוגמה: ניתוח גרף טיול באופניים">
          <p><strong>תיאור הגרף:</strong></p>
          <p>ציר ה-X מתאר זמן בשעות (מ-0 עד 5), ציר ה-Y מתאר מרחק מהבית בק"מ (מ-0 עד 20).</p>
          
          <p><strong>מסלול הגרף:</strong></p>
          <ul>
            <li>הגרף מתחיל בנקודה (0,0)</li>
            <li>עולה בקו ישר עד לנקודה (2,20)</li>
            <li>נשאר קו אופקי ב-y=20 מהנקודה (2,20) עד (3,20)</li>
            <li>יורד בקו ישר מהנקודה (3,20) עד לנקודה (5,0)</li>
          </ul>
          
          <p><strong>ניתוח הגרף:</strong></p>
          <ul>
            <li><strong>מ-0 עד 2 שעות:</strong> הגרף בעלייה. הרוכב מתרחק מהבית. הוא נסע 20 ק"מ בשעתיים.</li>
            <li><strong>מ-2 עד 3 שעות:</strong> הגרף אופקי. הרוכב עצר למנוחה של שעה. המרחק שלו מהבית לא השתנה.</li>
            <li><strong>מ-3 עד 5 שעות:</strong> הגרף בירידה. הרוכב חוזר הביתה. הוא נסע 20 ק"מ בשעתיים.</li>
          </ul>
          
          <p><strong>מסקנות:</strong></p>
          <ul>
            <li><strong>נקודת מקסימום:</strong> (2,20). המרחק הגדול ביותר מהבית היה 20 ק"מ.</li>
            <li><strong>נקודות אפס:</strong> (0,0) ו-(5,0). הרוכב היה בבית בתחילת הטיול ובסופו.</li>
          </ul>
        </FormulaBox>
      </div>

      {/* Exercises */}
      <div className="lesson-section">
        <h3>תרגילים לתרגול</h3>
        {exercises.map((exercise, index) => (
          <Exercise key={exercise.id} {...exercise} />
        ))}
      </div>

      {/* Quiz */}
      <div className="lesson-section">
        <Quiz {...quizData} />
      </div>

      {/* Summary */}
      <div className="lesson-summary">
        <h3>סיכום שיעור 3.1</h3>
        <FormulaBox title="נקודות מפתח לזכירה">
          <ul>
            <li><strong>שלב ראשון:</strong> תמיד קראו את כותרות הצירים ויחידות המידה לפני ניתוח הגרף</li>
            <li><strong>תחומי עלייה/ירידה:</strong> זהו את הקטעים שבהם הגרף עולה או יורד משמאל לימין</li>
            <li><strong>נקודות קיצון:</strong> מצאו את הנקודות הגבוהות והנמוכות ביותר - הן מספרות את הסיפור</li>
            <li><strong>קטעים אופקיים:</strong> מייצגים מצבי קביעות - חשובים להבנת ההקשר</li>
            <li><strong>חיתוכים עם הצירים:</strong> נקודות התחלה וסיום, או נקודות מעבר חשובות</li>
          </ul>
        </FormulaBox>
          <p>
          <strong>בשיעור הבא (4.1)</strong> נעבור למשוואות ממעלה ראשונה ושנייה - כלים אלגבריים שיעזרו לנו לתאר מתמטית את הקשרים שלמדנו לזהות בגרפים.
        </p>
      </div>
    </LessonLayout>
  );
};

export default Mahat31GraphReading;
